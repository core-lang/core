//= vm-args "--gc=swiper --gc-verify"

fun main() {
    let a = Array[Foo](60);
    let b = Array[Foo](60);
    forceMinorCollect();
    forceMinorCollect();
    // a.set(5, Foo(2));
    b.set(5, Foo(1));
    forceMinorCollect();
    // assert(a.get(5).a == 2);
    assert(b.get(5).a == 1);
}

class Foo(let a: Int)